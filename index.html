<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Catalogue Films v1.2</title>
<style>
:root {
  --fond: #f5f1e3;
  --fond-table: #fffaf0;
  --zebra: #f1e9d2;
  --texte: #222;
  --accent: #b88b00;
  --bord: #c6b27b;
  --radius: 10px;
  --font: -apple-system,BlinkMacSystemFont,"SF Pro Text","Helvetica Neue",Arial,sans-serif;
}
body {
  background: var(--fond);
  color: var(--texte);
  font-family: var(--font);
  margin:0; padding:1rem;
}
header {
  max-width:1200px;
  margin:0 auto 1rem;
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  flex-wrap:wrap;
  gap:1rem;
}
.title-block {
  flex:1;
  min-width:200px;
}
.title-block h1 {
  font-size:1.2rem;
  margin:0;
  color:var(--accent);
}
.meta-line {
  font-size:.8rem;
  color:#555;
}
.search-block {
  flex:0 0 300px;
  max-width:100%;
  background:var(--fond-table);
  border:1px solid var(--bord);
  border-radius:var(--radius);
  padding:.5rem .5rem .6rem;
  display:flex;
  flex-direction:column;
  gap:.4rem;
}
.search-top {
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.search-top label {
  font-size:.8rem;
  color:var(--accent);
}
button#saveCsv {
  background:var(--accent);
  border:none;
  border-radius:6px;
  padding:.4rem .6rem;
  font-size:.8rem;
  font-weight:600;
  color:#fff;
  cursor:pointer;
}
#searchInput {
  width:100%;
  padding:.4rem .5rem;
  border:1px solid var(--bord);
  border-radius:6px;
  background:#fff;
  font-size:.9rem;
}
.table-wrapper {
  max-width:1200px;
  margin:0 auto;
  border:1px solid var(--bord);
  border-radius:var(--radius);
  overflow:hidden;
  background:var(--fond-table);
}
table {
  border-collapse:collapse;
  width:100%;
  font-size:.9rem;
}
thead th {
  background:var(--fond-table);
  border-bottom:1px solid var(--bord);
  color:var(--accent);
  text-align:left;
  padding:.6rem .7rem;
  cursor:pointer;
  user-select:none;
  font-weight:600;
  white-space:nowrap;
}
thead th.active {
  background:#fdf4d7;
}
tbody td {
  padding:.5rem .7rem;
  color:var(--texte);
  vertical-align:top;
}
tbody tr:nth-child(even){
  background:var(--zebra);
}
tbody tr:hover{
  background:#f0e8c9;
}
footer {
  max-width:1200px;
  margin:1rem auto 0;
  text-align:center;
  font-size:.8rem;
  color:#555;
  line-height:1.4;
}
</style>
</head>
<body>

<header>
  <div class="title-block">
    <h1>Catalogue Films</h1>
    <div class="meta-line">
      <span id="countShown">0</span> / <span id="countTotal">0</span> films affichÃ©s
    </div>
  </div>

  <div class="search-block">
    <div class="search-top">
      <label for="searchInput">Recherche</label>
      <button id="saveCsv">ðŸ’¾ CSV</button>
    </div>
    <input id="searchInput" type="text" placeholder="Titre, acteur, catÃ©gorie...">
  </div>
</header>

<div class="table-wrapper">
  <table id="filmTable">
    <thead>
      <tr>
        <th data-col="title">Titre â–²â–¼</th>
        <th data-col="year">AnnÃ©e â–²â–¼</th>
        <th data-col="actor">Acteur principal â–²â–¼</th>
        <th data-col="category">CatÃ©gorie â–²â–¼</th>
      </tr>
    </thead>
    <tbody id="filmBody"></tbody>
  </table>
</div>

<footer>
  Â© Pierre Charlier 2025 â€“ Catalogue Films v1.2
</footer>

<script>
// =======================
// LISTE COMPLÃˆTE DES FILMS
// =======================
let films = [
  { "title": "Wonders of the Sea", "year": 2017, "actor": "Arnold Schwarzenegger", "category": "Documentaire nature" },
  { "title": "Zootopie", "year": 2016, "actor": "Ginnifer Goodwin", "category": "Animation" },
  { "title": "11.6", "year": 2013, "actor": "FranÃ§ois Cluzet", "category": "Thriller / Fait divers" },
  { "title": "Une rencontre", "year": 2014, "actor": "Sophie Marceau", "category": "Romance" },
  { "title": "Une suite qui dÃ©range : Le temps de lâ€™action", "year": 2017, "actor": "Al Gore", "category": "Documentaire politique / climat" },
  { "title": "USS Indianapolis", "year": 2016, "actor": "Nicolas Cage", "category": "Guerre / Survie" },
  { "title": "Vaiana", "year": 2016, "actor": "Auli'i Cravalho", "category": "Animation" },
  { "title": "ValÃ©rian", "year": 2017, "actor": "Dane DeHaan", "category": "Science-fiction" },
  { "title": "Van Gogh", "year": 1991, "actor": "Jacques Dutronc", "category": "Biopic / Drame" },
  { "title": "Vice-Versa", "year": 2015, "actor": "Amy Poehler", "category": "Animation" },
  { "title": "Vivre dans lâ€™Ã©poque des avions", "year": 2013, "actor": "Harrison Ford", "category": "Documentaire aviation" },
  { "title": "Witness", "year": 1985, "actor": "Harrison Ford", "category": "Thriller / Policier" },
  { "title": "Toy Story 4", "year": 2019, "actor": "Tom Hanks", "category": "Animation" },
  { "title": "Trafic", "year": 1971, "actor": "Jacques Tati", "category": "ComÃ©die" },
  { "title": "Truth", "year": 2015, "actor": "Cate Blanchett", "category": "Drame / MÃ©dias" },
  { "title": "Tu ne tueras point", "year": 2016, "actor": "Andrew Garfield", "category": "Guerre" },
  { "title": "Turbo", "year": 2013, "actor": "Ryan Reynolds", "category": "Animation" },
  { "title": "U-571", "year": 2000, "actor": "Matthew McConaughey", "category": "Guerre" },
  { "title": "Un film inachevÃ©", "year": 2010, "actor": "Archives Ghetto Varsovie", "category": "Documentaire historique" },
  { "title": "Un illustre inconnu", "year": 2014, "actor": "Mathieu Kassovitz", "category": "Thriller psychologique" },
  { "title": "Une histoire dâ€™amour", "year": 2023, "actor": "BenoÃ®t Poelvoorde", "category": "Drame" },
  { "title": "The Last Man on the Moon", "year": 2014, "actor": "Eugene Cernan", "category": "Documentaire spatial" },
  { "title": "The Lighthouse", "year": 2019, "actor": "Willem Dafoe / Robert Pattinson", "category": "Drame psychologique" },
  { "title": "The Martian", "year": 2015, "actor": "Matt Damon", "category": "Science-fiction" },
  { "title": "The Pledge", "year": 2001, "actor": "Jack Nicholson", "category": "Thriller" },
  { "title": "The Revenant", "year": 2015, "actor": "Leonardo DiCaprio", "category": "Survie / Western" },
  { "title": "The VVitch", "year": 2015, "actor": "Anya Taylor-Joy", "category": "Horreur" },
  { "title": "Tintin et le lac aux requins", "year": 1972, "actor": "Jacques Careuil", "category": "Animation" },
  { "title": "Sing", "year": 2016, "actor": "Matthew McConaughey", "category": "Animation" },
  { "title": "Tous en scÃ¨ne 2", "year": 2021, "actor": "Matthew McConaughey", "category": "Animation" },
  { "title": "Raiponce", "year": 2010, "actor": "Mandy Moore", "category": "Animation" },
  { "title": "Ralph", "year": 2012, "actor": "John C. Reilly", "category": "Animation" },
  { "title": "Rango", "year": 2011, "actor": "Johnny Depp", "category": "Animation" },
  { "title": "Raya et le dernier dragon", "year": 2021, "actor": "Kelly Marie Tran", "category": "Animation" },
  { "title": "Rebelle", "year": 2012, "actor": "Kelly Macdonald", "category": "Animation" },
  { "title": "Johnny Hallyday â€“ Rester Vivant Tour", "year": 2016, "actor": "Johnny Hallyday", "category": "Concert" },
  { "title": "Rio 2", "year": 2014, "actor": "Jesse Eisenberg", "category": "Animation" },
  { "title": "Robinson CrusoÃ©", "year": 2016, "actor": "Matthias SchweighÃ¶fer (VO)", "category": "Animation" },
  { "title": "Saint Laurent", "year": 2014, "actor": "Gaspard Ulliel", "category": "Biopic" },
  { "title": "Salaud, on tâ€™aime", "year": 2014, "actor": "Johnny Hallyday", "category": "Drame" },
  { "title": "Salyut 7", "year": 2017, "actor": "Vladimir Vdovitchenkov", "category": "Espace / Drame historique" },
  { "title": "Cast Away", "year": 2000, "actor": "Tom Hanks", "category": "Survie / Drame" },
  { "title": "Snowden", "year": 2016, "actor": "Joseph Gordon-Levitt", "category": "Thriller politique" },
  { "title": "Leonard Cohen â€“ Songs from the Road", "year": 2010, "actor": "Leonard Cohen", "category": "Concert / Musique" },
  { "title": "Soul", "year": 2020, "actor": "Jamie Foxx", "category": "Animation" },
  { "title": "Sous le sable", "year": 2000, "actor": "Charlotte Rampling", "category": "Drame psychologique" },
  { "title": "Stalingrad", "year": 1993, "actor": "Thomas Kretschmann", "category": "Guerre" },
  { "title": "Steve Jobs", "year": 2015, "actor": "Michael Fassbender", "category": "Biopic" },
  { "title": "Sugarland", "year": 2014, "actor": "Damon Gameau", "category": "Documentaire santÃ©" },
  { "title": "Sur le toit du monde", "year": 2013, "actor": "Alpinistes / ExpÃ©dition", "category": "Documentaire aventure" },
  { "title": "The Artist", "year": 2011, "actor": "Jean Dujardin", "category": "ComÃ©die dramatique" },
  { "title": "The Boy", "year": 2016, "actor": "Lauren Cohan", "category": "Horreur" },
  { "title": "The Dark Crystal", "year": 1982, "actor": "Jim Henson (voix)", "category": "Fantasy" },
  { "title": "The Frozen Ground", "year": 2013, "actor": "Nicolas Cage", "category": "Thriller criminel" },
  { "title": "The Game", "year": 1997, "actor": "Michael Douglas", "category": "Thriller" },
  { "title": "The Imitation Game", "year": 2014, "actor": "Benedict Cumberbatch", "category": "Biopic / Guerre" },
  { "title": "The Immigrant", "year": 2013, "actor": "Marion Cotillard", "category": "Drame" },
  { "title": "Despicable Me 2", "year": 2013, "actor": "Steve Carell", "category": "Animation" },
  { "title": "Despicable Me 2 â€“ 3 Mini-Movie Collection", "year": 2013, "actor": "Minions (Pierre Coffin)", "category": "Animation (courts)" },
  { "title": "Moi, moche et mÃ©chant 4", "year": 2024, "actor": "Steve Carell", "category": "Animation" },
  { "title": "La folie des Minions â€“ 3 Mini-Movies", "year": 2015, "actor": "Pierre Coffin", "category": "Animation (courts)" },
  { "title": "Mon Ket", "year": 2018, "actor": "FranÃ§ois Damiens", "category": "ComÃ©die" },
  { "title": "Mon Oncle", "year": 1958, "actor": "Jacques Tati", "category": "ComÃ©die" },
  { "title": "Money Monster", "year": 2016, "actor": "George Clooney", "category": "Thriller" },
  { "title": "Moonwalk One", "year": 1971, "actor": "Astronautes Apollo 11", "category": "Documentaire spatial" },
  { "title": "Mountain", "year": 2017, "actor": "Willem Dafoe (narrateur)", "category": "Documentaire nature" },
  { "title": "Mr. Turner", "year": 2014, "actor": "Timothy Spall", "category": "Biopic" },
  { "title": "Music Box", "year": 1989, "actor": "Jessica Lange", "category": "Drame judiciaire" },
  { "title": "Ni juge ni soumise", "year": 2017, "actor": "Anne Gruwez", "category": "Documentaire judiciaire" },
  { "title": "Normandie Nue", "year": 2018, "actor": "FranÃ§ois Cluzet", "category": "ComÃ©die dramatique" },
  { "title": "Novitiate", "year": 2017, "actor": "Margaret Qualley", "category": "Drame" },
  { "title": "Old", "year": 2021, "actor": "Gael GarcÃ­a Bernal", "category": "Thriller fantastique" },
  { "title": "Paparazzi", "year": 1998, "actor": "Vincent Lindon", "category": "ComÃ©die / Satire mÃ©dias" },
  { "title": "Parade", "year": 1974, "actor": "Jacques Tati", "category": "ComÃ©die / Spectacle filmÃ©" },
  { "title": "Pie XII â€“ Sous le ciel de Rome", "year": 2010, "actor": "James Cromwell", "category": "Historique / Guerre" },
  { "title": "Piper", "year": 2016, "actor": "â€”", "category": "Animation (court Pixar)" },
  { "title": "Planes", "year": 2013, "actor": "Dane Cook", "category": "Animation" },
  { "title": "Planes 2", "year": 2014, "actor": "Dane Cook", "category": "Animation" },
  { "title": "Playtime", "year": 1967, "actor": "Jacques Tati", "category": "ComÃ©die" },
  { "title": "Pollen", "year": 2011, "actor": "Meryl Streep (narration VO)", "category": "Documentaire nature" },
  { "title": "They Shall Not Grow Old", "year": 2018, "actor": "Soldats 14-18 (archives)", "category": "Documentaire guerre" },
  { "title": "Quai dâ€™Orsay", "year": 2013, "actor": "Thierry Lhermitte", "category": "ComÃ©die politique" },
  { "title": "Quai des OrfÃ¨vres", "year": 1947, "actor": "Louis Jouvet", "category": "Policier" },
  { "title": "Quand passent les faisans", "year": 1965, "actor": "Paul Meurisse / Bernard Blier", "category": "ComÃ©die policiÃ¨re" },
  { "title": "Les adieux Ã  la reine", "year": 2012, "actor": "LÃ©a Seydoux", "category": "Drame historique" },
  { "title": "Fantastic Beasts â€“ Les animaux fantastiques", "year": 2016, "actor": "Eddie Redmayne", "category": "Fantastique" },
  { "title": "Les aventures de Tintin : Le secret de la Licorne", "year": 2011, "actor": "Jamie Bell", "category": "Animation / Aventure" },
  { "title": "Les huit salopards", "year": 2015, "actor": "Samuel L. Jackson", "category": "Western" },
  { "title": "Les Indestructibles", "year": 2004, "actor": "Craig T. Nelson", "category": "Animation" },
  { "title": "Les Indestructibles 2", "year": 2018, "actor": "Craig T. Nelson", "category": "Animation" },
  { "title": "Minions", "year": 2015, "actor": "Pierre Coffin", "category": "Animation" },
  { "title": "Les mondes de Ralph", "year": 2012, "actor": "John C. Reilly", "category": "Animation" },
  { "title": "Les nouveaux hÃ©ros", "year": 2014, "actor": "Scott Adsit", "category": "Animation SF" },
  { "title": "Les petits mouchoirs", "year": 2010, "actor": "FranÃ§ois Cluzet", "category": "Drame amical" },
  { "title": "Les randonneurs", "year": 1997, "actor": "BenoÃ®t Poelvoorde", "category": "ComÃ©die" },
  { "title": "Les risques du mÃ©tier", "year": 1967, "actor": "Jacques Brel", "category": "Drame" },
  { "title": "Les saisons", "year": 2015, "actor": "Jacques Perrin (voix)", "category": "Documentaire nature" },
  { "title": "Les saveurs du palais", "year": 2012, "actor": "Catherine Frot", "category": "ComÃ©die dramatique" },
  { "title": "Les tontons flingueurs", "year": 1963, "actor": "Lino Ventura", "category": "ComÃ©die policiÃ¨re" },
  { "title": "Les vacances de Monsieur Hulot", "year": 1953, "actor": "Jacques Tati", "category": "ComÃ©die" },
  { "title": "Les visiteurs : La RÃ©volution", "year": 2016, "actor": "Christian Clavier", "category": "ComÃ©die" },
  { "title": "Madame Hyde", "year": 2017, "actor": "Isabelle Huppert", "category": "Drame" },
  { "title": "Marie Stuart, reine dâ€™Ã‰cosse", "year": 2018, "actor": "Saoirse Ronan", "category": "Historique" },
  { "title": "Master and Commander", "year": 2003, "actor": "Russell Crowe", "category": "Aventure historique / Guerre navale" },
  { "title": "Meru", "year": 2015, "actor": "Conrad Anker / Jimmy Chin", "category": "Documentaire alpinisme" },
  { "title": "Meurtre parfait", "year": 1998, "actor": "Michael Douglas", "category": "Thriller" },
  { "title": "Mickey â€“ 90 ans dâ€™enthousiasme", "year": 2018, "actor": "Mickey Mouse", "category": "Animation / Compilation" },
  { "title": "Midnight Special", "year": 2016, "actor": "Michael Shannon", "category": "SF / Thriller" },
  { "title": "Mission Control â€“ The Unsung Heroes of Apollo", "year": 2017, "actor": "IngÃ©nieurs NASA (tÃ©moignages)", "category": "Documentaire spatial" },
  { "title": "Moi, moche et mÃ©chant", "year": 2010, "actor": "Steve Carell", "category": "Animation" },
  { "title": "Moi, moche et mÃ©chant 3", "year": 2017, "actor": "Steve Carell", "category": "Animation" },
  { "title": "La loi du marchÃ©", "year": 2015, "actor": "Vincent Lindon", "category": "Drame social" },
  { "title": "La mÃ©canique de lâ€™ombre", "year": 2016, "actor": "FranÃ§ois Cluzet", "category": "Thriller dâ€™espionnage" },
  { "title": "La mort de Louis XIV", "year": 2016, "actor": "Jean-Pierre LÃ©aud", "category": "Drame historique" },
  { "title": "La planÃ¨te des singes : Les origines", "year": 2011, "actor": "Andy Serkis", "category": "Science-fiction" },
  { "title": "La planÃ¨te des singes", "year": 2001, "actor": "Mark Wahlberg", "category": "Science-fiction" },
  { "title": "La prochaine fois je viserai le cÅ“ur", "year": 2014, "actor": "Guillaume Canet", "category": "Thriller / Fait divers" },
  { "title": "La reine des neiges", "year": 2013, "actor": "Idina Menzel", "category": "Animation" },
  { "title": "La religieuse", "year": 2013, "actor": "Pauline Etienne", "category": "Drame" },
  { "title": "La vie et rien dâ€™autre", "year": 1989, "actor": "Philippe Noiret", "category": "Drame historique" },
  { "title": "Lacombe Lucien", "year": 1974, "actor": "Pierre Blaise", "category": "Drame historique" },
  { "title": "Le jurÃ©", "year": 1983, "actor": "Bernard Blier", "category": "Polar" },
  { "title": "Le 15:17 pour Paris", "year": 2018, "actor": "Alek Skarlatos / Anthony Sadler", "category": "Drame / Attentat / Biopic" },
  { "title": "Capital", "year": 2012, "actor": "Gad Elmaleh", "category": "Thriller financier" },
  { "title": "Le collier rouge", "year": 2018, "actor": "FranÃ§ois Cluzet", "category": "Drame historique" },
  { "title": "Le dernier loup", "year": 2015, "actor": "Feng Shaofeng", "category": "Aventure / Nature" },
  { "title": "Le jour le plus long", "year": 1962, "actor": "John Wayne / Robert Mitchum", "category": "Guerre (WW2)" },
  { "title": "Le juge et lâ€™assassin", "year": 1976, "actor": "Philippe Noiret", "category": "Drame historique / Crime" },
  { "title": "Le loup de Wall Street", "year": 2013, "actor": "Leonardo DiCaprio", "category": "Biopic / ComÃ©die noire" },
  { "title": "Heartbreak Ridge", "year": 1986, "actor": "Clint Eastwood", "category": "Guerre" },
  { "title": "Le marquis", "year": 2011, "actor": "Franck Dubosc", "category": "ComÃ©die" },
  { "title": "Le monde de Dory", "year": 2016, "actor": "Ellen DeGeneres", "category": "Animation" },
  { "title": "The Lost World", "year": 1997, "actor": "Jeff Goldblum", "category": "Aventure / SF" },
  { "title": "Le nouveau stagiaire", "year": 2015, "actor": "Robert De Niro", "category": "ComÃ©die" },
  { "title": "Le peuple des forÃªts", "year": 2016, "actor": "Narration documentaire nature", "category": "Documentaire nature" },
  { "title": "Le pianiste", "year": 2002, "actor": "Adrien Brody", "category": "Drame historique / Shoah" },
  { "title": "Le voyage dâ€™Arlo", "year": 2015, "actor": "Raymond Ochoa", "category": "Animation" },
  { "title": "Leonard Cohen â€“ Live in Dublin", "year": 2014, "actor": "Leonard Cohen", "category": "Concert" },
  { "title": "Il Traditore", "year": 2019, "actor": "Pierfrancesco Favino", "category": "Mafia / Biopic" },
  { "title": "Ils sont partout", "year": 2016, "actor": "Yvan Attal / BenoÃ®t Poelvoorde", "category": "ComÃ©die satirique" },
  { "title": "IMAX Hubble", "year": 2010, "actor": "Leonardo DiCaprio (narrateur)", "category": "Documentaire spatial" },
  { "title": "Jâ€™accuse", "year": 2019, "actor": "Jean Dujardin", "category": "Drame historique" },
  { "title": "Je prÃ©fÃ¨re quâ€™on reste amis", "year": 2005, "actor": "GÃ©rard Depardieu", "category": "ComÃ©die" },
  { "title": "Je suis un assassin", "year": 2004, "actor": "FranÃ§ois Cluzet", "category": "Thriller" },
  { "title": "Jour de fÃªte", "year": 1949, "actor": "Jacques Tati", "category": "ComÃ©die" },
  { "title": "Jurassic Park", "year": 1993, "actor": "Sam Neill", "category": "Aventure / SF" },
  { "title": "Jurassic Park III", "year": 2001, "actor": "Sam Neill", "category": "Aventure / SF" },
  { "title": "Jurassic World", "year": 2015, "actor": "Chris Pratt", "category": "Aventure / SF" },
  { "title": "Jurassic World â€“ Fallen Kingdom", "year": 2018, "actor": "Chris Pratt", "category": "Aventure / SF" },
  { "title": "Knock", "year": 2017, "actor": "Omar Sy", "category": "ComÃ©die" },
  { "title": "Lâ€™affaire Farewell", "year": 2009, "actor": "Guillaume Canet", "category": "Thriller dâ€™espionnage" },
  { "title": "Lâ€™Ã¢ge de glace 3 â€“ Le temps des dinosaures", "year": 2009, "actor": "Ray Romano", "category": "Animation" },
  { "title": "Lâ€™Ã¢ge de glace 4 â€“ La dÃ©rive des continents", "year": 2012, "actor": "Ray Romano", "category": "Animation" },
  { "title": "Lâ€™Ã©cole buissonniÃ¨re", "year": 2017, "actor": "FranÃ§ois Cluzet", "category": "ComÃ©die dramatique / Nature" },
  { "title": "A Beautiful Day in the Neighborhood", "year": 2019, "actor": "Tom Hanks", "category": "Biopic / Drame humain" },
  { "title": "A Dogâ€™s Way Home", "year": 2019, "actor": "Bryce Dallas Howard (voix)", "category": "Aventure familiale" },
  { "title": "Lâ€™OdyssÃ©e", "year": 2016, "actor": "Lambert Wilson", "category": "Biopic / Aventure" },
  { "title": "Lâ€™Outsider", "year": 2016, "actor": "Arthur Dupont", "category": "Thriller financier / Biopic Kerviel" },
  { "title": "La Belle et la BÃªte", "year": 1991, "actor": "Paige Oâ€™Hara", "category": "Animation" },
  { "title": "La collection des courts-mÃ©trages Pixar 2", "year": 2012, "actor": "â€”", "category": "Animation (compilation courts)" },
  { "title": "La collection des courts-mÃ©trages Pixar 1", "year": 2007, "actor": "â€”", "category": "Animation (compilation courts)" },
  { "title": "La collection des courts-mÃ©trages Pixar 3", "year": 2018, "actor": "â€”", "category": "Animation (compilation courts)" },
  { "title": "The Madness of King George", "year": 1994, "actor": "Nigel Hawthorne", "category": "Historique / Drame" },
  { "title": "La guerre des boutons", "year": 1962, "actor": "AndrÃ© Treton", "category": "ComÃ©die dâ€™enfance" },
  { "title": "La guerre des mondes", "year": 2005, "actor": "Tom Cruise", "category": "Science-fiction" },
  { "title": "Dear Dictator", "year": 2018, "actor": "Michael Caine", "category": "ComÃ©die" },
  { "title": "Demolition", "year": 2015, "actor": "Jake Gyllenhaal", "category": "Drame" },
  { "title": "Deux hommes dans la ville", "year": 1973, "actor": "Alain Delon / Jean Gabin", "category": "Drame judiciaire" },
  { "title": "Downton Abbey", "year": 2019, "actor": "Hugh Bonneville", "category": "Drame historique" },
  { "title": "Downton Abbey II â€“ Une nouvelle Ã¨re", "year": 2022, "actor": "Hugh Bonneville", "category": "Drame historique" },
  { "title": "Downton Abbey III â€“ Le grand final", "year": "", "actor": "Distribution Downton Abbey", "category": "Drame historique" },
  { "title": "Dunkirk", "year": 2017, "actor": "Fionn Whitehead", "category": "Guerre" },
  { "title": "Eddy Mitchell â€“ Big Band (Palais des Sports 2016)", "year": 2016, "actor": "Eddy Mitchell", "category": "Concert" },
  { "title": "Elle", "year": 2016, "actor": "Isabelle Huppert", "category": "Thriller psychologique" },
  { "title": "Elser", "year": 2015, "actor": "Christian Friedel", "category": "Historique / RÃ©sistance" },
  { "title": "Elvis", "year": 2022, "actor": "Austin Butler", "category": "Biopic musical" },
  { "title": "Everest", "year": 2015, "actor": "Jason Clarke", "category": "Drame survie / Alpinisme" },
  { "title": "Exodus â€“ Gods and Kings", "year": 2014, "actor": "Christian Bale", "category": "PÃ©plum biblique" },
  { "title": "Fantastic Fungi", "year": 2019, "actor": "Brie Larson (narration VO)", "category": "Documentaire nature" },
  { "title": "First Man", "year": 2018, "actor": "Ryan Gosling", "category": "Biopic spatial" },
  { "title": "Hallelujah â€“ Leonard Cohen, A Journey, A Song", "year": 2022, "actor": "Leonard Cohen", "category": "Documentaire musical" },
  { "title": "HarcÃ¨lement", "year": 1994, "actor": "Michael Douglas", "category": "Thriller" },
  { "title": "HhhhH", "year": 2017, "actor": "Jason Clarke", "category": "Drame historique / WW2" },
  { "title": "Home Alone (Maman, jâ€™ai ratÃ© lâ€™avion)", "year": 1990, "actor": "Macaulay Culkin", "category": "ComÃ©die familiale" },
  { "title": "Horton", "year": 2008, "actor": "Jim Carrey", "category": "Animation" },
  { "title": "Hostiles", "year": 2017, "actor": "Christian Bale", "category": "Western" },
  { "title": "Hotel Transylvania", "year": 2012, "actor": "Adam Sandler", "category": "Animation" },
  { "title": "Hotel Transylvania 2", "year": 2015, "actor": "Adam Sandler", "category": "Animation" },
  { "title": "Hotel Transylvania 3 â€“ A Monster Vacation", "year": 2018, "actor": "Adam Sandler", "category": "Animation" },
  { "title": "Hotel Transylvania 4 â€“ Transformania", "year": 2022, "actor": "Brian Hull", "category": "Animation" },
  { "title": "Ice Age â€“ Collision Course", "year": 2016, "actor": "Ray Romano", "category": "Animation" },
  { "title": "Once Upon a Forest", "year": 2013, "actor": "Narration documentaire forÃªt", "category": "Documentaire nature" },
  { "title": "A Hologram for the King", "year": 2016, "actor": "Tom Hanks", "category": "ComÃ©die dramatique" },
  { "title": "Ã€ lâ€™Ouest rien de nouveau", "year": 1930, "actor": "Lew Ayres", "category": "Guerre" },
  { "title": "Ã€ la poursuite de demain", "year": 2015, "actor": "George Clooney", "category": "Science-fiction / Aventure" },
  { "title": "A Royal Affair", "year": 2012, "actor": "Mads Mikkelsen", "category": "Drame historique" },
  { "title": "Aerospace", "year": "", "actor": "â€”", "category": "Documentaire technique / aviation" },
  { "title": "Alice au pays des merveilles (Disney Classiques)", "year": 1951, "actor": "Kathryn Beaumont", "category": "Animation" },
  { "title": "Alice au pays des merveilles (Johnny Depp)", "year": 2010, "actor": "Johnny Depp", "category": "Fantastique" },
  { "title": "Alice de lâ€™autre cÃ´tÃ© du miroir", "year": 2016, "actor": "Johnny Depp", "category": "Fantastique" },
  { "title": "Alice et le maire", "year": 2019, "actor": "Fabrice Luchini", "category": "Drame politique" },
  { "title": "Alive", "year": 1993, "actor": "Ethan Hawke", "category": "Survie / Drame inspirÃ© de faits rÃ©els" },
  { "title": "Angry Birds â€“ Le film", "year": 2016, "actor": "Jason Sudeikis", "category": "Animation" },
  { "title": "Apollo 11", "year": 2019, "actor": "Neil Armstrong (archives)", "category": "Documentaire spatial" },
  { "title": "Apollo 13", "year": 1995, "actor": "Tom Hanks", "category": "Drame spatial / Faits rÃ©els" },
  { "title": "Au revoir lÃ -haut", "year": 2017, "actor": "Nahuel PÃ©rez Biscayart", "category": "Drame historique (aprÃ¨s 14-18)" },
  { "title": "Avatar : La voie de lâ€™eau", "year": 2022, "actor": "Sam Worthington", "category": "Science-fiction" },
  { "title": "Avatar", "year": 2009, "actor": "Sam Worthington", "category": "Science-fiction" },
  { "title": "Beatrix Potter â€“ Artist, Storyteller and Countrywoman", "year": "", "actor": "Beatrix Potter (archives)", "category": "Documentaire biographique" },
  { "title": "Bridge of Spies", "year": 2015, "actor": "Tom Hanks", "category": "Thriller Guerre froide" },
  { "title": "Captain Phillips", "year": 2013, "actor": "Tom Hanks", "category": "Thriller / Prise dâ€™otage" },
  { "title": "Cars 2", "year": 2011, "actor": "Owen Wilson", "category": "Animation" },
  { "title": "Cars 3", "year": 2017, "actor": "Owen Wilson", "category": "Animation" },
  { "title": "Cave of Forgotten Dreams", "year": 2010, "actor": "Werner Herzog", "category": "Documentaire archÃ©ologie" },
  { "title": "Chute libre", "year": 1993, "actor": "Michael Douglas", "category": "Thriller social" },
  { "title": "Colette", "year": 2018, "actor": "Keira Knightley", "category": "Biopic" },
  { "title": "Comme des bÃªtes", "year": 2016, "actor": "Louis C.K. / Patton Oswalt", "category": "Animation" },
  { "title": "Comme des bÃªtes 2", "year": 2019, "actor": "Patton Oswalt", "category": "Animation" },
  { "title": "Confident Royal", "year": 2017, "actor": "Judi Dench", "category": "Drame historique" }
];

// =======================
// Ã‰TAT COURANT
// =======================
let currentSortCol = null; // "title" | "year" | "actor" | "category"
let currentSortDir = 1;    // 1 = asc, -1 = desc
let filteredFilms = [...films];

// =======================
// RENDU DU TABLEAU
// =======================
function renderTable() {
  const tbody = document.getElementById("filmBody");
  tbody.innerHTML = "";

  filteredFilms.forEach(f => {
    const tr = document.createElement("tr");

    const tdTitle = document.createElement("td");
    tdTitle.textContent = f.title || "";
    tr.appendChild(tdTitle);

    const tdYear = document.createElement("td");
    tdYear.textContent = (f.year !== undefined && f.year !== null) ? f.year : "";
    tr.appendChild(tdYear);

    const tdActor = document.createElement("td");
    tdActor.textContent = f.actor || "";
    tr.appendChild(tdActor);

    const tdCat = document.createElement("td");
    tdCat.textContent = f.category || "";
    tr.appendChild(tdCat);

    tbody.appendChild(tr);
  });

  document.getElementById("countShown").textContent = filteredFilms.length;
  document.getElementById("countTotal").textContent = films.length;
}

// =======================
// TRI
// =======================
function sortBy(col) {
  if (currentSortCol === col) {
    currentSortDir *= -1;
  } else {
    currentSortCol = col;
    currentSortDir = 1;
  }

  filteredFilms.sort((a, b) => {
    let va = a[col] ?? "";
    let vb = b[col] ?? "";

    if (col === "year") {
      const na = parseInt(va) || 0;
      const nb = parseInt(vb) || 0;
      if (na < nb) return -1 * currentSortDir;
      if (na > nb) return  1 * currentSortDir;
      return 0;
    }

    va = ("" + va).toLowerCase();
    vb = ("" + vb).toLowerCase();
    if (va < vb) return -1 * currentSortDir;
    if (va > vb) return  1 * currentSortDir;
    return 0;
  });

  document.querySelectorAll("thead th").forEach(th => th.classList.remove("active"));
  const th = document.querySelector(`thead th[data-col='${col}']`);
  if (th) th.classList.add("active");

  renderTable();
}

// =======================
// RECHERCHE
// =======================
function applySearch() {
  const q = document.getElementById("searchInput").value.trim().toLowerCase();

  if (!q) {
    filteredFilms = [...films];
  } else {
    filteredFilms = films.filter(f =>
      (f.title    || "").toLowerCase().includes(q) ||
      (f.actor    || "").toLowerCase().includes(q) ||
      (f.category || "").toLowerCase().includes(q)
    );
  }

  if (currentSortCol) {
    sortBy(currentSortCol);
  } else {
    renderTable();
  }
}

// =======================
// EXPORT CSV
// =======================
function saveCSV() {
  // On exporte tous les films (pas seulement le filtre)
  let csv = "Titre;AnnÃ©e;Acteur principal;CatÃ©gorie\n";
  films.forEach(f => {
    csv +=
      (f.title    ?? "") + ";" +
      (f.year     ?? "") + ";" +
      (f.actor    ?? "") + ";" +
      (f.category ?? "") + "\n";
  });

  const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = "films_catalogue.csv";
  a.click();
  URL.revokeObjectURL(url);
}

// =======================
// EVENTS INIT
// =======================
document.getElementById("searchInput").addEventListener("input", applySearch);

document.querySelectorAll("thead th").forEach(th => {
  th.addEventListener("click", () => sortBy(th.dataset.col));
});

document.getElementById("saveCsv").addEventListener("click", saveCSV);

// premier rendu
renderTable();
</script>

</body>
</html>